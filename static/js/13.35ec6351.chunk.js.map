{"version":3,"sources":["components/Post/CategoryPosts.js"],"names":["InfinitePosts","lazy","CategoryPosts","slug","match","params","type","useState","category","isLoading","data","setData","useEffect","ENDPOINT","API","a","fetch","response","ok","json","getCategory","length","className","name","fallback","categoryId","id","to","pathname"],"mappings":"oNAKMA,EAAgBC,gBAAK,kBAAM,uDA6DlBC,UA3DO,SAAC,GAKhB,IAHOC,EAGR,EAJJC,MACEC,OAAUF,KAGR,IADJG,YACI,MADG,MACH,IACoBC,mBAAS,CAAEC,SAAU,GAAIC,WAAW,IADxD,mBACGC,EADH,KACSC,EADT,KA4BJ,OAzBAC,qBAAU,WACR,IAAIC,EAAQ,UAAMC,KAEOD,GAAZ,aAATP,EAAiC,aACpB,OAEjBO,GAAQ,gBAAaV,GAEJ,uCAAG,4BAAAY,EAAA,6DAClBJ,EAAQ,CAAEH,SAAU,GAAIC,WAAW,IADjB,kBAIOO,MAAMH,GAJb,WAIVI,EAJU,QAMFC,GANE,6DAQhBP,EARgB,UAQUM,EAASE,OARnB,0BAQNX,SARM,KAQ2BC,WAAW,IARtC,oJAAH,oDAcjBW,KACC,CAACjB,EAAMG,IAELI,EAAKD,WAAsC,IAAzBC,EAAKF,SAASa,OAInC,yBAAKC,UAAU,iBACb,yBAAKA,UAAU,wBACb,4DAC+B,aAAThB,EAAsB,YAAc,SAAU,IAClE,+BAAQI,EAAKD,WAAaC,EAAKF,SAAS,GAAGe,QAG9Cb,EAAKD,UACJ,kBAAC,IAAD,MAEA,kBAAC,WAAD,CAAUe,SAAU,kBAAC,IAAD,OAClB,kBAACxB,EAAD,CACEsB,UAAW,2BACXhB,KAAMA,EACNmB,WAAYf,EAAKF,SAAS,GAAGkB,OAjB9B,kBAAC,IAAD,CAAUC,GAAI,CAAEC,SAAU","file":"static/js/13.35ec6351.chunk.js","sourcesContent":["import React, { useEffect, useState, Suspense, lazy } from \"react\";\r\nimport { Redirect } from \"react-router-dom\";\r\nimport { API } from \"../../data\";\r\nimport Preloader from \"../Preloader\";\r\n\r\nconst InfinitePosts = lazy(() => import(\"./InfinitePosts\"));\r\n\r\nconst CategoryPosts = ({\r\n  match: {\r\n    params: { slug },\r\n  },\r\n  type = \"tag\",\r\n}) => {\r\n  const [data, setData] = useState({ category: [], isLoading: true });\r\n\r\n  useEffect(() => {\r\n    let ENDPOINT = `${API}`;\r\n\r\n    if (type === \"category\") ENDPOINT += \"categories\";\r\n    else ENDPOINT += \"tags\";\r\n\r\n    ENDPOINT += `?slug=${slug}`;\r\n\r\n    const getCategory = async () => {\r\n      setData({ category: [], isLoading: true });\r\n      \r\n      try {\r\n        const response = await fetch(ENDPOINT);\r\n\r\n        if (!response.ok) return;\r\n\r\n        setData({ category: await response.json(), isLoading: false });\r\n      } catch {\r\n        return;\r\n      }\r\n    };\r\n\r\n    getCategory();\r\n  }, [slug, type]);\r\n\r\n  if (!data.isLoading && data.category.length === 0)\r\n    return <Redirect to={{ pathname: \"/404\" }} />;\r\n\r\n  return (\r\n    <div className=\"categoryPosts\">\r\n      <div className=\"categoryPosts__title\">\r\n        <h3>\r\n          Wyszukałeś posty z {type === \"category\" ? \"kategorii\" : \"tagiem\"}{\" \"}\r\n          <span>{!data.isLoading && data.category[0].name}</span>\r\n        </h3>\r\n      </div>\r\n      {data.isLoading ? (\r\n        <Preloader />\r\n      ) : (\r\n        <Suspense fallback={<Preloader />}>\r\n          <InfinitePosts\r\n            className={\"categoryPosts__container\"}\r\n            type={type}\r\n            categoryId={data.category[0].id}\r\n          />\r\n        </Suspense>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CategoryPosts;\r\n"],"sourceRoot":""}