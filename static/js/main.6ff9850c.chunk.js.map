{"version":3,"sources":["components/Preloader.js","assets/logo.png","components/Search.js","components/SocialMedia.js","components/Navigation.js","components/Footer.js","components/ScrollToTop.js","components/CookiesAlert.js","App.js","serviceWorker.js","index.js","data.js"],"names":["Preloader","className","module","exports","Search","withRouter","history","handleTopBar","useState","tags","isLoading","setTags","value","setValue","link","setLink","useEffect","searchTags","a","fetch","API","response","ok","json","length","handleSearch","slug","handleLink","onSubmit","e","preventDefault","push","target","reset","htmlFor","id","type","placeholder","onChange","autoComplete","map","index","name","to","key","onClick","aria-label","SocialMedia","href","rel","Navigation","navTop","useRef","navTopOpen","navBottom","navBottomHamburger","navBottomCategories","useHistory","categories","countCategories","data","setData","loadCategories","ENDPOINT","headers","get","current","classList","toggle","handleHamburger","handleCategories","handleClick","window","innerWidth","contains","children","getAttribute","ref","src","logo","alt","title","exact","activeClassName","Footer","smoothscroll","polyfill","Scroll","scroll","top","left","behavior","CookiesAlert","handleCookies","Post","lazy","PageNotFound","Home","CategoryPosts","About","Contact","Cookies","App","showScroll","setShowScroll","postsNumber","setPostsNumber","isAcceptCookie","setIsAcceptCookie","addEventListener","scrollY","pageY","innerHeight","getPostsNumber","parseInt","sessionStorage","getItem","setItem","JSON","stringify","navigator","userAgent","googleAdScript","document","createElement","setAttribute","GOOGLE_ADS_CLIENT","GOOGLE_ADS_SRC","head","insertBefore","firstElementChild","localStorage","ScrollToTop","fallback","path","component","render","props","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","then","registration","onupdatefound","installingWorker","installing","onstatechange","state","controller","console","log","onUpdate","onSuccess","catch","error","rootElement","getElementById","hasChildNodes","ReactDOM","hydrate","URL","process","origin","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","POSTS_PER_PAGE"],"mappings":"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","file":"static/js/main.6ff9850c.chunk.js","sourcesContent":["import React from \"react\";\r\n\r\nconst Preloader = () => {\r\n  return (\r\n    <div className=\"preloader\">\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n      <div></div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;","module.exports = __webpack_public_path__ + \"static/media/logo.b4450004.png\";","import React, { useState, useEffect } from \"react\";\r\nimport { API } from \"../data\";\r\nimport { withRouter, Link } from \"react-router-dom\";\r\n\r\nconst Search = withRouter(({ history, handleTopBar }) => {\r\n  const [tags, setTags] = useState({ tags: [], isLoading: true });\r\n  const [value, setValue] = useState(\"\");\r\n  const [link, setLink] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    const searchTags = async () => {\r\n      try {\r\n        const response = await fetch(`${API}tags?search=${value}`);\r\n        if (!response.ok) await setTags({ tags: [], isLoading: false });\r\n        setTags({ tags: await response.json(), isLoading: false });\r\n      } catch {\r\n        await setTags({ tags: [], isLoading: false });\r\n      }\r\n    };\r\n\r\n    value.length > 0 && searchTags();\r\n    value.length === 0 && setTags({ tags: [], isLoading: true })\r\n\r\n    return () => {\r\n      setTags({ tags: [], isLoading: true })\r\n    }\r\n  }, [value]);\r\n\r\n  const handleInput = (e) => {\r\n    setValue(e.target.value);\r\n    tags.tags.length > 0 && handleSearch();\r\n  };\r\n\r\n  const handleSearch = () => {\r\n    setLink(tags.tags[0].slug);\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleTopBar();\r\n    link.length > 0 && history.push(`/tagi/${link}`);\r\n    setValue(\"\");\r\n    e.target.reset();\r\n  };\r\n\r\n  const handleLink = () => {\r\n    handleTopBar();\r\n    setValue(\"\");\r\n  }\r\n\r\n  return (\r\n    <form className=\"search\" onSubmit={handleSubmit}>\r\n      <label htmlFor=\"search\" className=\"search__label\">Wyszukaj</label>\r\n      <div className=\"search__box\">\r\n      <input\r\n        id=\"search\"\r\n        type=\"text\"\r\n        placeholder=\"Wyszukaj przepis\"\r\n        className=\"search__box__input\"\r\n        value={value}\r\n        onChange={handleInput}\r\n        autoComplete=\"off\"\r\n      />\r\n      <div className=\"search__box__tips\">\r\n        {tags.tags.length > 0 && tags.tags.map(({name, slug}, index) => {\r\n          return <Link to={`/tagi/${slug}`} key={index} onClick={handleLink}>{name}</Link>\r\n        })}\r\n      </div>\r\n      </div>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className=\"search__button\"\r\n        aria-label=\"Szukaj\"\r\n      >\r\n        <i className=\"icon-search\"></i>\r\n      </button>\r\n    </form>\r\n  );\r\n});\r\n\r\nexport default Search;\r\n","import React from \"react\";\r\n\r\nconst SocialMedia = ({ className }) => {\r\n  return (\r\n    <>\r\n      <a\r\n        href=\"https://www.facebook.com/Kuchnia-na-Obcasach-493976237282868/\"\r\n        rel=\"noopener noreferrer\"\r\n        target=\"_blank\"\r\n        className={className}\r\n        aria-label=\"Facebook\"\r\n      >\r\n        <i className=\"icon-facebook\"></i>\r\n      </a>\r\n      <a\r\n        href=\"https://twitter.com/Knaobcasach\"\r\n        className={className}\r\n        aria-label=\"Twitter\"\r\n        rel=\"noopener noreferrer\"\r\n        target=\"_blank\"\r\n      >\r\n        <i className=\"icon-twitter\"></i>\r\n      </a>\r\n      <a\r\n        href=\"https://www.instagram.com/kuchnia_na_obcasach/\"\r\n        rel=\"noopener noreferrer\"\r\n        target=\"_blank\"\r\n        className={className}\r\n        aria-label=\"Instagram\"\r\n      >\r\n        <i className=\"icon-instagram\"></i>\r\n      </a>\r\n      <a\r\n        href=\"https://pl.pinterest.com/KuchniaObcasach/\"\r\n        rel=\"noopener noreferrer\"\r\n        target=\"_blank\"\r\n        className={className}\r\n        aria-label=\"Pinterest\"\r\n      >\r\n        <i className=\"icon-pinterest\"></i>\r\n      </a>\r\n      <a\r\n        href=\"mailto:monika.kuchnianaobcasach@gmail.com\"\r\n        className={className}\r\n        aria-label=\"E-mail\"\r\n      >\r\n        <i className=\"icon-mail\"></i>\r\n      </a>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SocialMedia;\r\n","import React, { useRef, useState, useEffect } from \"react\";\r\nimport { Link, NavLink, useHistory } from \"react-router-dom\";\r\nimport logo from \"../assets/logo.png\";\r\nimport Search from \"./Search\";\r\nimport SocialMedia from \"./SocialMedia\";\r\nimport { API } from \"../data\";\r\n\r\nconst Navigation = () => {\r\n  const BREAKPOINT = 650;\r\n\r\n  const navTop = useRef();\r\n  const navTopOpen = useRef();\r\n  const navBottom = useRef();\r\n  const navBottomHamburger = useRef();\r\n  const navBottomCategories = useRef();\r\n  const history = useHistory();\r\n\r\n  const [data, setData] = useState({\r\n    categories: [],\r\n    isLoading: true,\r\n    countCategories: 1,\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadCategories();\r\n  }, [data.countCategories])\r\n\r\n  const loadCategories = async () => {\r\n    let ENDPOINT = `${API}categories?per_page=${data.countCategories}`;\r\n\r\n    try {\r\n      const response = await fetch(ENDPOINT);\r\n\r\n      if (!response.ok) {\r\n        return;\r\n      }\r\n\r\n      setData({\r\n        categories: await response.json(),\r\n        isLoading: false,\r\n        countCategories: response.headers.get(\"X-WP-Total\"),\r\n      });\r\n    } catch {\r\n      return;\r\n    }\r\n  };\r\n\r\n  const handleTopBar = () => {\r\n    navTop.current.classList.toggle(\"reset-translate\");\r\n    navTopOpen.current.classList.toggle(\"rotate-180\");\r\n  };\r\n\r\n  const handleHamburger = () => {\r\n    navBottom.current.classList.toggle(\"reset-translate\");\r\n    navBottomHamburger.current.classList.toggle(\"hamburger-transform\");\r\n  };\r\n\r\n  const handleCategories = () => {\r\n    navBottomCategories.current.classList.toggle(\"show-categories\");\r\n  };\r\n\r\n  const handleClick = () => {\r\n    if (window.innerWidth <= BREAKPOINT) {\r\n      navBottomCategories.current.classList.contains(\"show-categories\") &&\r\n        handleCategories();\r\n      handleHamburger();\r\n    }\r\n  };\r\n\r\n  const handleLink = (e) => {\r\n    const link = e.target.children;\r\n    link.length === 1 && history.push(`${link[0].getAttribute(\"href\")}`);\r\n    if (window.innerWidth <= BREAKPOINT && link.length === 2) handleCategories();    \r\n  }\r\n\r\n  return (\r\n    <nav className=\"navigation\">\r\n      <div className=\"navigation__top\" ref={navTop}>\r\n        <div className=\"navigation__top__media\">\r\n          <SocialMedia className={\"navigation__top__media__link\"} />\r\n        </div>\r\n\r\n        <div className=\"navigation__top__search\">\r\n          <Search handleTopBar={handleTopBar} />\r\n        </div>\r\n\r\n        <button\r\n          aria-label=\"Otwórz\"\r\n          className=\"navigation__top__open\"\r\n          onClick={handleTopBar}\r\n          ref={navTopOpen}\r\n        >\r\n          <i className=\"icon-menu-arrow\"></i>\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"navigation__center\">\r\n        <Link to=\"/\" className=\"navigation__center__link\">\r\n          <img\r\n            src={logo}\r\n            alt=\"Kuchnia na obcasach\"\r\n            title=\"Kuchnia na obcasach\"\r\n          />\r\n        </Link>\r\n      </div>\r\n\r\n      <div className=\"navigation__bottom\">\r\n        <button\r\n          aria-label=\"Otwórz menu\"\r\n          className=\"navigation__bottom__hamburger\"\r\n          onClick={handleHamburger}\r\n          ref={navBottomHamburger}\r\n        ></button>\r\n\r\n        <ul className=\"navigation__bottom__menu\" ref={navBottom}>\r\n          <li className=\"navigation__bottom__menu__item\" onClick={(e) => {handleClick(); handleLink(e)}}>\r\n            <NavLink exact to=\"/\" className=\"navigation__bottom__menu__item__link\" activeClassName=\"active\">\r\n              Strona główna\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"navigation__bottom__menu__item\" onClick={(e) => {handleLink(e)}}>\r\n            <Link\r\n              to=\"#\"\r\n              className=\"navigation__bottom__menu__item__link\"\r\n              onClick={handleCategories}\r\n            >\r\n              Kategorie\r\n            </Link>\r\n            <ul\r\n              className=\"navigation__bottom__menu__item__categories\"\r\n              ref={navBottomCategories}\r\n              onClick={handleClick}\r\n            >\r\n              {data.categories.length > 0 &&\r\n                data.categories.map(({ id, name, slug }) => {\r\n                  if (slug === \"bez-kategorii\") return null;\r\n                  return (\r\n                    <li\r\n                      className=\"navigation__bottom__menu__item__categories__item\"\r\n                      key={id}\r\n                      onClick={(e) => {handleLink(e)}}\r\n                    >\r\n                      <NavLink\r\n                        exact\r\n                        activeClassName=\"active\"\r\n                        to={`/kategorie/${slug}`}\r\n                        className=\"navigation__bottom__menu__item__categories__item__link\"\r\n                      >\r\n                        {name}\r\n                      </NavLink>\r\n                    </li>\r\n                  );\r\n                })}\r\n            </ul>\r\n          </li>\r\n          <li className=\"navigation__bottom__menu__item\" onClick={(e) => {handleClick(); handleLink(e)}}>\r\n            <NavLink\r\n              exact\r\n              activeClassName=\"active\"\r\n              to=\"/o-mnie\"\r\n              className=\"navigation__bottom__menu__item__link\"\r\n            >\r\n              O mnie\r\n            </NavLink>\r\n          </li>\r\n          <li className=\"navigation__bottom__menu__item\" onClick={(e) => {handleClick(); handleLink(e)}}>\r\n            <NavLink\r\n              exact\r\n              activeClassName=\"active\"\r\n              to=\"/kontakt-i-wspolpraca\"\r\n              className=\"navigation__bottom__menu__item__link\"\r\n            >\r\n              Kontakt i współpraca\r\n            </NavLink>\r\n          </li>\r\n        </ul>\r\n      </div>\r\n    </nav>\r\n  );\r\n};\r\n\r\nexport default Navigation;\r\n","import React from \"react\";\r\nimport SocialMedia from \"./SocialMedia\";\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">\r\n        <span>© 2020 kuchnia na obcasach</span>\r\n        <span className=\"footer__media\">\r\n        <SocialMedia className={\"footer__media__link\"} />\r\n      </span>\r\n        <span>Projekt i realizacja&nbsp;\r\n        <a\r\n          href=\"https://www.linkedin.com/in/kbuczynski/\"\r\n          rel=\"noopener noreferrer\"\r\n          target=\"_blank\"\r\n        >\r\n          Kbuczynski\r\n        </a></span>\r\n      </p>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from \"react\";\r\nimport smoothscroll from 'smoothscroll-polyfill';\r\n\r\nsmoothscroll.polyfill();\r\n\r\nconst Scroll = () => {\r\n  const handleScroll = () =>\r\n    window.scroll({\r\n      top: 0,\r\n      left: 0,\r\n      behavior: \"smooth\",\r\n    });\r\n\r\n  return (\r\n    <div className=\"scroll\" onClick={handleScroll}>\r\n      <span className=\"scroll__arrow\"></span>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Scroll;","import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst CookiesAlert = ({ handleCookies }) => {\r\n  return (\r\n    <div className=\"cookiesAlert\">\r\n      <p className=\"cookiesAlert__text\">\r\n        Serwis wykorzystuje pliki cookies, aby zapewnić usługi na najwyższym\r\n        poziomie. Korzystając ze strony wyrażasz zgodę na ich użycie\r\n      </p>\r\n      <div>\r\n        <button className=\"cookiesAlert__ok\" onClick={handleCookies}>\r\n          Ok, zgadzam się\r\n        </button>\r\n        <Link to=\"/polityka-plikow-cookies\" className=\"cookiesAlert__more\">\r\n          Dowiedz się więcej\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CookiesAlert;\r\n","import React, { useState, Suspense, lazy, useEffect } from \"react\";\nimport { BrowserRouter, Switch, Route } from \"react-router-dom\";\nimport Preloader from \"./components/Preloader\";\nimport Navigation from \"./components/Navigation\";\nimport Footer from \"./components/Footer\";\nimport ScrollToTop from \"./components/ScrollToTop\";\nimport { API, GOOGLE_ADS_CLIENT, GOOGLE_ADS_SRC } from \"./data\";\nimport CookiesAlert from \"./components/CookiesAlert\";\n\nconst Post = lazy(() => import(\"./components/Post/Post\"));\nconst PageNotFound = lazy(() => import(\"./components/PageNotFound\"));\nconst Home = lazy(() => import(\"./components/Home\"));\nconst CategoryPosts = lazy(() => import(\"./components/Post/CategoryPosts\"));\nconst About = lazy(() => import(\"./components/About\"));\nconst Contact = lazy(() => import(\"./components/Contact\"));\nconst Cookies = lazy(() => import(\"./components/Cookies\"));\n\nconst App = () => {\n  const [showScroll, setShowScroll] = useState(false);\n  const [postsNumber, setPostsNumber] = useState(0);\n  const [isAcceptCookie, setIsAcceptCookie] = useState(false);\n\n  const handleScroll = () => {\n    const scrollY = window.scrollY,\n      pageY = window.innerHeight;\n\n    if (scrollY > pageY) setShowScroll(true);\n    else setShowScroll(false);\n  };\n\n  window.addEventListener(\"scroll\", handleScroll);\n\n  const getPostsNumber = async () => {\n    let ENDPOINT = `${API}posts`;\n\n    try {\n      const response = await fetch(ENDPOINT);\n\n      if (!response.ok) return;\n\n      setPostsNumber(await parseInt(response.headers.get(\"X-WP-Total\"), 10));\n    } catch {\n      return;\n    }\n  };\n\n  useEffect(() => {\n    !sessionStorage.getItem(\"countPosts\") && getPostsNumber();\n\n    if (!sessionStorage.getItem(\"countPosts\") && postsNumber !== 0)\n      sessionStorage.setItem(\"countPosts\", JSON.stringify(postsNumber));\n  });\n\n  useEffect(() => {\n    if (navigator.userAgent !== \"ReactSnap\") {\n      const googleAdScript = document.createElement(\"script\");\n      googleAdScript.setAttribute(\"data-ad-client\", `${GOOGLE_ADS_CLIENT}`);\n      googleAdScript.setAttribute(\"src\", `${GOOGLE_ADS_SRC}`);\n      googleAdScript.setAttribute(\"async\", \"true\");\n\n      const head = document.head;\n      head.insertBefore(googleAdScript, head.firstElementChild);\n    }\n  }, []);\n\n  const handleCookies = () => {\n    localStorage.setItem(\"cookies\", \"true\");\n    setIsAcceptCookie(true);\n  };\n\n  return (\n    <BrowserRouter>\n      <Navigation />\n      {!localStorage.getItem(\"cookies\") && !isAcceptCookie && (\n        <CookiesAlert handleCookies={handleCookies} />\n      )}\n      {showScroll && <ScrollToTop />}\n\n      <Suspense fallback={<Preloader />}>\n        <Switch>\n          <Route exact path=\"/\" component={Home} />\n          <Route exact path=\"/o-mnie\" component={About} />\n          <Route exact path=\"/kontakt-i-wspolpraca\" component={Contact} />\n          <Route exact path=\"/polityka-plikow-cookies\" component={Cookies} />\n          <Route\n            exact\n            path=\"/wpisy/:slug\"\n            render={(props) => <Post {...props} />}\n          />\n          <Route\n            exact\n            path=\"/kategorie/:slug\"\n            render={(props) => <CategoryPosts {...props} type={\"category\"} />}\n          />\n          <Route\n            exact\n            path=\"/tagi/:slug\"\n            render={(props) => <CategoryPosts {...props} type={\"tag\"} />}\n          />\n          <Route exact path=\"*\" component={PageNotFound} />\n        </Switch>\n      </Suspense>\n\n      <Footer />\n    </BrowserRouter>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\nimport \"./fontello/css/fontello.css\";\nimport \"./styles/index.scss\";\n\nconst rootElement = document.getElementById(\"root\");\n\nif (rootElement.hasChildNodes()) {\n  ReactDOM.hydrate(<App />, rootElement);\n} else {\n  ReactDOM.render(<App />, rootElement);\n}\n\nserviceWorker.register();\n","export const API = `https://kuchnianaobcasach.atthost24.pl/wp-json/wp/v2/`;\r\n\r\nexport const POSTS_PER_PAGE = 12;\r\n\r\nexport const GOOGLE_ADS_SRC = `https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js`;\r\n\r\nexport const GOOGLE_ADS_CLIENT = `ca-pub-7316411842170438`;\r\n\r\n"],"sourceRoot":""}